/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/billing/process/route";
exports.ids = ["app/api/billing/process/route"];
exports.modules = {

/***/ "(rsc)/./app/api/billing/process/route.ts":
/*!******************************************!*\
  !*** ./app/api/billing/process/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_cron_billing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/cron-billing */ \"(rsc)/./lib/cron-billing.ts\");\n\n\nconst dynamic = \"force-dynamic\";\nasync function POST(request) {\n    try {\n        console.log(\"=== Starting Billing Process API ===\");\n        const billingCron = new _lib_cron_billing__WEBPACK_IMPORTED_MODULE_1__.BillingCron();\n        const results = await billingCron.processAllSubscriptions();\n        console.log(\"=== Billing Process Completed ===\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Billing process completed successfully\",\n            results,\n            timestamp: new Date().toISOString(),\n            totalProcessed: results.length,\n            successful: results.filter((r)=>r.status === \"success\").length,\n            failed: results.filter((r)=>r.status === \"failed\").length\n        });\n    } catch (error) {\n        console.error(\"=== Billing Process Failed ===\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error.message,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2JpbGxpbmcvcHJvY2Vzcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTREO0FBQ1o7QUFFekMsTUFBTUUsVUFBVSxnQkFBZTtBQUUvQixlQUFlQyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE1BQU1DLGNBQWMsSUFBSU4sMERBQVdBO1FBQ25DLE1BQU1PLFVBQVUsTUFBTUQsWUFBWUUsdUJBQXVCO1FBRXpESixRQUFRQyxHQUFHLENBQUM7UUFFWixPQUFPTixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLFNBQVM7WUFDVEo7WUFDQUssV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQ2pDQyxnQkFBZ0JSLFFBQVFTLE1BQU07WUFDOUJDLFlBQVlWLFFBQVFXLE1BQU0sQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxNQUFNLEtBQUssV0FBV0osTUFBTTtZQUNoRUssUUFBUWQsUUFBUVcsTUFBTSxDQUFDLENBQUNDLElBQU1BLEVBQUVDLE1BQU0sS0FBSyxVQUFVSixNQUFNO1FBQzdEO0lBQ0YsRUFBRSxPQUFPTSxPQUFPO1FBQ2RsQixRQUFRa0IsS0FBSyxDQUFDLGtDQUFrQ0E7UUFFaEQsT0FBT3ZCLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQ0VDLFNBQVM7WUFDVFksT0FBT0EsTUFBTVgsT0FBTztZQUNwQkMsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1FBQ25DLEdBQ0E7WUFBRU0sUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zcmF2YW5wb2x1L1Byb2plY3RzL3N1YnNjcmlwdGlvbi1iaWxsaW5nLWxvZ2ljL2FwcC9hcGkvYmlsbGluZy9wcm9jZXNzL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiXG5pbXBvcnQgeyBCaWxsaW5nQ3JvbiB9IGZyb20gXCJAL2xpYi9jcm9uLWJpbGxpbmdcIlxuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT0gU3RhcnRpbmcgQmlsbGluZyBQcm9jZXNzIEFQSSA9PT1cIilcblxuICAgIGNvbnN0IGJpbGxpbmdDcm9uID0gbmV3IEJpbGxpbmdDcm9uKClcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgYmlsbGluZ0Nyb24ucHJvY2Vzc0FsbFN1YnNjcmlwdGlvbnMoKVxuXG4gICAgY29uc29sZS5sb2coXCI9PT0gQmlsbGluZyBQcm9jZXNzIENvbXBsZXRlZCA9PT1cIilcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogXCJCaWxsaW5nIHByb2Nlc3MgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgdG90YWxQcm9jZXNzZWQ6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgc3VjY2Vzc2Z1bDogcmVzdWx0cy5maWx0ZXIoKHIpID0+IHIuc3RhdHVzID09PSBcInN1Y2Nlc3NcIikubGVuZ3RoLFxuICAgICAgZmFpbGVkOiByZXN1bHRzLmZpbHRlcigocikgPT4gci5zdGF0dXMgPT09IFwiZmFpbGVkXCIpLmxlbmd0aCxcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCI9PT0gQmlsbGluZyBQcm9jZXNzIEZhaWxlZCA9PT1cIiwgZXJyb3IpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkJpbGxpbmdDcm9uIiwiZHluYW1pYyIsIlBPU1QiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsImJpbGxpbmdDcm9uIiwicmVzdWx0cyIsInByb2Nlc3NBbGxTdWJzY3JpcHRpb25zIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidG90YWxQcm9jZXNzZWQiLCJsZW5ndGgiLCJzdWNjZXNzZnVsIiwiZmlsdGVyIiwiciIsInN0YXR1cyIsImZhaWxlZCIsImVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/billing/process/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/billing-service.ts":
/*!********************************!*\
  !*** ./lib/billing-service.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BillingService: () => (/* binding */ BillingService)\n/* harmony export */ });\nclass BillingService {\n    async processMonthlyBilling(userId) {\n        try {\n            console.log(`Processing billing for user: ${userId}`);\n            // Get user subscription and wallet with fallbacks\n            const subscription = await this.getActiveSubscription(userId);\n            const wallet = await this.getUserWallet(userId);\n            if (!subscription) {\n                throw new Error(\"No active subscription found\");\n            }\n            const subscriptionAmount = subscription.amount;\n            const walletBalance = wallet.balance;\n            console.log(`Subscription amount: $${subscriptionAmount}, Wallet balance: $${walletBalance}`);\n            let transaction;\n            if (walletBalance >= subscriptionAmount) {\n                // Wallet covers full amount\n                console.log(\"Processing wallet-only payment\");\n                transaction = await this.processWalletPayment(userId, subscription.id, subscriptionAmount);\n            } else if (walletBalance > 0) {\n                // Partial wallet + PayPal\n                console.log(\"Processing hybrid payment (wallet + PayPal)\");\n                transaction = await this.processHybridPayment(userId, subscription.id, subscriptionAmount, walletBalance);\n            } else {\n                // Full PayPal payment\n                console.log(\"Processing PayPal-only payment\");\n                transaction = await this.processPayPalPayment(userId, subscription.id, subscriptionAmount);\n            }\n            console.log(\"Transaction completed:\", transaction);\n            // Send success notification if transaction was successful\n            if (transaction.status === \"success\") {\n                await this.sendSuccessNotification(userId, transaction);\n            }\n            return transaction;\n        } catch (error) {\n            console.error(\"Billing processing failed:\", error);\n            // Create a failed transaction record\n            return {\n                id: `txn_failed_${Date.now()}`,\n                userId,\n                subscriptionId: \"unknown\",\n                amount: 0,\n                walletAmount: 0,\n                paypalAmount: 0,\n                status: \"failed\",\n                paymentMethod: \"wallet\",\n                transactionDate: new Date(),\n                description: `Billing failed: ${error instanceof Error ? error.message : String(error)}`\n            };\n        }\n    }\n    async processWalletPayment(userId, subscriptionId, amount) {\n        // Simulate wallet deduction\n        console.log(`Deducting $${amount} from wallet for user ${userId}`);\n        // Update mock wallet balance\n        this.mockWallet.balance -= amount;\n        return {\n            id: `txn_wallet_${Date.now()}`,\n            userId,\n            subscriptionId,\n            amount,\n            walletAmount: amount,\n            paypalAmount: 0,\n            status: \"success\",\n            paymentMethod: \"wallet\",\n            transactionDate: new Date(),\n            description: \"Subscription payment via wallet\"\n        };\n    }\n    async processHybridPayment(userId, subscriptionId, totalAmount, walletAmount) {\n        const paypalAmount = totalAmount - walletAmount;\n        try {\n            // Simulate PayPal charge\n            const paypalSuccess = Math.random() > 0.1 // 90% success rate\n            ;\n            if (paypalSuccess) {\n                console.log(`PayPal charge successful: $${paypalAmount}`);\n                // Update mock wallet balance\n                this.mockWallet.balance = 0;\n                return {\n                    id: `txn_hybrid_${Date.now()}`,\n                    userId,\n                    subscriptionId,\n                    amount: totalAmount,\n                    walletAmount,\n                    paypalAmount,\n                    status: \"success\",\n                    paymentMethod: \"wallet_paypal\",\n                    transactionDate: new Date(),\n                    description: `Subscription payment: $${walletAmount.toFixed(2)} wallet + $${paypalAmount.toFixed(2)} PayPal`\n                };\n            } else {\n                throw new Error(\"PayPal payment declined\");\n            }\n        } catch (error) {\n            return {\n                id: `txn_hybrid_failed_${Date.now()}`,\n                userId,\n                subscriptionId,\n                amount: totalAmount,\n                walletAmount: 0,\n                paypalAmount: 0,\n                status: \"failed\",\n                paymentMethod: \"wallet_paypal\",\n                transactionDate: new Date(),\n                description: `Payment failed: ${error instanceof Error ? error.message : String(error)}`\n            };\n        }\n    }\n    async processPayPalPayment(userId, subscriptionId, amount) {\n        try {\n            // Simulate PayPal charge\n            const paypalSuccess = Math.random() > 0.1 // 90% success rate\n            ;\n            if (paypalSuccess) {\n                console.log(`PayPal charge successful: $${amount}`);\n                return {\n                    id: `txn_paypal_${Date.now()}`,\n                    userId,\n                    subscriptionId,\n                    amount,\n                    walletAmount: 0,\n                    paypalAmount: amount,\n                    status: \"success\",\n                    paymentMethod: \"paypal\",\n                    transactionDate: new Date(),\n                    description: \"Subscription payment via PayPal\"\n                };\n            } else {\n                throw new Error(\"PayPal payment declined\");\n            }\n        } catch (error) {\n            return {\n                id: `txn_paypal_failed_${Date.now()}`,\n                userId,\n                subscriptionId,\n                amount,\n                walletAmount: 0,\n                paypalAmount: 0,\n                status: \"failed\",\n                paymentMethod: \"paypal\",\n                transactionDate: new Date(),\n                description: `PayPal payment failed: ${error instanceof Error ? error.message : String(error)}`\n            };\n        }\n    }\n    async getActiveSubscription(userId) {\n        try {\n            // Try to fetch from API, but fall back to mock data\n            console.log(`Fetching subscription for user: ${userId}`);\n            return this.mockSubscription;\n        } catch (error) {\n            console.error(\"Failed to get subscription, using mock data:\", error);\n            return this.mockSubscription;\n        }\n    }\n    async getUserWallet(userId) {\n        try {\n            // Try to fetch from API, but fall back to mock data\n            console.log(`Fetching wallet for user: ${userId}`);\n            return this.mockWallet;\n        } catch (error) {\n            console.error(\"Failed to get wallet, using mock data:\", error);\n            return this.mockWallet;\n        }\n    }\n    async sendSuccessNotification(userId, transaction) {\n        try {\n            console.log(`Sending success notification to user ${userId}`);\n            const response = await fetch(\"/api/notifications/billing-success\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    userId,\n                    transaction\n                })\n            });\n            if (response.ok) {\n                const result = await response.json();\n                console.log(\"Success notification sent:\", result.customerMessage);\n            } else {\n                console.error(\"Failed to send success notification:\", response.statusText);\n            }\n        } catch (error) {\n            console.error(\"Error sending success notification:\", error);\n        }\n    }\n    constructor(){\n        // Mock data as fallbacks\n        this.mockWallet = {\n            id: \"wallet_user_123\",\n            userId: \"user_123\",\n            balance: 55.5,\n            currency: \"USD\",\n            updatedAt: new Date()\n        };\n        this.mockSubscription = {\n            id: \"sub_user_123\",\n            userId: \"user_123\",\n            planId: \"plan_premium\",\n            status: \"active\",\n            amount: 29.99,\n            currency: \"USD\",\n            billingCycle: \"monthly\",\n            nextBillingDate: new Date(\"2024-02-01\"),\n            paypalSubscriptionId: \"I-BW452GLLEP1G\",\n            createdAt: new Date(\"2024-01-01\"),\n            updatedAt: new Date()\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVZLFdBQStCLEVBQWlCO1FBQ3BHLElBQUk7WUFDRlgsUUFBUUMsR0FBRyxDQUFDLENBQUMscUNBQXFDLEVBQUVGLFFBQVE7WUFFNUQsTUFBTXFDLFdBQVcsTUFBTUMsTUFBTSxzQ0FBc0M7Z0JBQ2pFQyxRQUFRO2dCQUNSQyxTQUFTO29CQUNQLGdCQUFnQjtnQkFDbEI7Z0JBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkIzQztvQkFDQVk7Z0JBQ0Y7WUFDRjtZQUVBLElBQUl5QixTQUFTTyxFQUFFLEVBQUU7Z0JBQ2YsTUFBTUMsU0FBUyxNQUFNUixTQUFTUyxJQUFJO2dCQUNsQzdDLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEIyQyxPQUFPRSxlQUFlO1lBQ2xFLE9BQU87Z0JBQ0w5QyxRQUFRa0IsS0FBSyxDQUFDLHdDQUF3Q2tCLFNBQVNXLFVBQVU7WUFDM0U7UUFDRixFQUFFLE9BQU83QixPQUFPO1lBQ2RsQixRQUFRa0IsS0FBSyxDQUFDLHVDQUF1Q0E7UUFDdkQ7SUFDRjs7UUF0UEEseUJBQXlCO2FBQ2pCVyxhQUFhO1lBQ25CaEIsSUFBSTtZQUNKZCxRQUFRO1lBQ1JXLFNBQVM7WUFDVHNDLFVBQVU7WUFDVkMsV0FBVyxJQUFJOUI7UUFDakI7YUFFUWdCLG1CQUFtQjtZQUN6QnRCLElBQUk7WUFDSmQsUUFBUTtZQUNSbUQsUUFBUTtZQUNSbEMsUUFBUTtZQUNSUixRQUFRO1lBQ1J3QyxVQUFVO1lBQ1ZHLGNBQWM7WUFDZEMsaUJBQWlCLElBQUlqQyxLQUFLO1lBQzFCa0Msc0JBQXNCO1lBQ3RCQyxXQUFXLElBQUluQyxLQUFLO1lBQ3BCOEIsV0FBVyxJQUFJOUI7UUFDakI7O0FBa09GIiwic291cmNlcyI6WyIvVXNlcnMvc3JhdmFucG9sdS9Qcm9qZWN0cy9zdWJzY3JpcHRpb24tYmlsbGluZy1sb2dpYy9saWIvYmlsbGluZy1zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQmlsbGluZ1RyYW5zYWN0aW9uLCBTdWJzY3JpcHRpb24sIFdhbGxldCB9IGZyb20gXCIuL3R5cGVzXCJcblxuZXhwb3J0IGNsYXNzIEJpbGxpbmdTZXJ2aWNlIHtcbiAgLy8gTW9jayBkYXRhIGFzIGZhbGxiYWNrc1xuICBwcml2YXRlIG1vY2tXYWxsZXQgPSB7XG4gICAgaWQ6IFwid2FsbGV0X3VzZXJfMTIzXCIsXG4gICAgdXNlcklkOiBcInVzZXJfMTIzXCIsXG4gICAgYmFsYW5jZTogNTUuNSxcbiAgICBjdXJyZW5jeTogXCJVU0RcIixcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gIH1cblxuICBwcml2YXRlIG1vY2tTdWJzY3JpcHRpb24gPSB7XG4gICAgaWQ6IFwic3ViX3VzZXJfMTIzXCIsXG4gICAgdXNlcklkOiBcInVzZXJfMTIzXCIsXG4gICAgcGxhbklkOiBcInBsYW5fcHJlbWl1bVwiLFxuICAgIHN0YXR1czogXCJhY3RpdmVcIiBhcyBjb25zdCxcbiAgICBhbW91bnQ6IDI5Ljk5LFxuICAgIGN1cnJlbmN5OiBcIlVTRFwiLFxuICAgIGJpbGxpbmdDeWNsZTogXCJtb250aGx5XCIgYXMgY29uc3QsXG4gICAgbmV4dEJpbGxpbmdEYXRlOiBuZXcgRGF0ZShcIjIwMjQtMDItMDFcIiksXG4gICAgcGF5cGFsU3Vic2NyaXB0aW9uSWQ6IFwiSS1CVzQ1MkdMTEVQMUdcIixcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKFwiMjAyNC0wMS0wMVwiKSxcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gIH1cblxuICBhc3luYyBwcm9jZXNzTW9udGhseUJpbGxpbmcodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEJpbGxpbmdUcmFuc2FjdGlvbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBiaWxsaW5nIGZvciB1c2VyOiAke3VzZXJJZH1gKVxuXG4gICAgICAvLyBHZXQgdXNlciBzdWJzY3JpcHRpb24gYW5kIHdhbGxldCB3aXRoIGZhbGxiYWNrc1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgdGhpcy5nZXRBY3RpdmVTdWJzY3JpcHRpb24odXNlcklkKVxuICAgICAgY29uc3Qgd2FsbGV0ID0gYXdhaXQgdGhpcy5nZXRVc2VyV2FsbGV0KHVzZXJJZClcblxuICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWN0aXZlIHN1YnNjcmlwdGlvbiBmb3VuZFwiKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb25BbW91bnQgPSBzdWJzY3JpcHRpb24uYW1vdW50XG4gICAgICBjb25zdCB3YWxsZXRCYWxhbmNlID0gd2FsbGV0LmJhbGFuY2VcblxuICAgICAgY29uc29sZS5sb2coYFN1YnNjcmlwdGlvbiBhbW91bnQ6ICQke3N1YnNjcmlwdGlvbkFtb3VudH0sIFdhbGxldCBiYWxhbmNlOiAkJHt3YWxsZXRCYWxhbmNlfWApXG5cbiAgICAgIGxldCB0cmFuc2FjdGlvbjogQmlsbGluZ1RyYW5zYWN0aW9uXG5cbiAgICAgIGlmICh3YWxsZXRCYWxhbmNlID49IHN1YnNjcmlwdGlvbkFtb3VudCkge1xuICAgICAgICAvLyBXYWxsZXQgY292ZXJzIGZ1bGwgYW1vdW50XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUHJvY2Vzc2luZyB3YWxsZXQtb25seSBwYXltZW50XCIpXG4gICAgICAgIHRyYW5zYWN0aW9uID0gYXdhaXQgdGhpcy5wcm9jZXNzV2FsbGV0UGF5bWVudCh1c2VySWQsIHN1YnNjcmlwdGlvbi5pZCwgc3Vic2NyaXB0aW9uQW1vdW50KVxuICAgICAgfSBlbHNlIGlmICh3YWxsZXRCYWxhbmNlID4gMCkge1xuICAgICAgICAvLyBQYXJ0aWFsIHdhbGxldCArIFBheVBhbFxuICAgICAgICBjb25zb2xlLmxvZyhcIlByb2Nlc3NpbmcgaHlicmlkIHBheW1lbnQgKHdhbGxldCArIFBheVBhbClcIilcbiAgICAgICAgdHJhbnNhY3Rpb24gPSBhd2FpdCB0aGlzLnByb2Nlc3NIeWJyaWRQYXltZW50KHVzZXJJZCwgc3Vic2NyaXB0aW9uLmlkLCBzdWJzY3JpcHRpb25BbW91bnQsIHdhbGxldEJhbGFuY2UpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGdWxsIFBheVBhbCBwYXltZW50XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUHJvY2Vzc2luZyBQYXlQYWwtb25seSBwYXltZW50XCIpXG4gICAgICAgIHRyYW5zYWN0aW9uID0gYXdhaXQgdGhpcy5wcm9jZXNzUGF5UGFsUGF5bWVudCh1c2VySWQsIHN1YnNjcmlwdGlvbi5pZCwgc3Vic2NyaXB0aW9uQW1vdW50KVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIlRyYW5zYWN0aW9uIGNvbXBsZXRlZDpcIiwgdHJhbnNhY3Rpb24pXG4gICAgICBcbiAgICAgIC8vIFNlbmQgc3VjY2VzcyBub3RpZmljYXRpb24gaWYgdHJhbnNhY3Rpb24gd2FzIHN1Y2Nlc3NmdWxcbiAgICAgIGlmICh0cmFuc2FjdGlvbi5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZFN1Y2Nlc3NOb3RpZmljYXRpb24odXNlcklkLCB0cmFuc2FjdGlvbilcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJCaWxsaW5nIHByb2Nlc3NpbmcgZmFpbGVkOlwiLCBlcnJvcilcblxuICAgICAgLy8gQ3JlYXRlIGEgZmFpbGVkIHRyYW5zYWN0aW9uIHJlY29yZFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGB0eG5fZmFpbGVkXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIHN1YnNjcmlwdGlvbklkOiBcInVua25vd25cIixcbiAgICAgICAgYW1vdW50OiAwLFxuICAgICAgICB3YWxsZXRBbW91bnQ6IDAsXG4gICAgICAgIHBheXBhbEFtb3VudDogMCxcbiAgICAgICAgc3RhdHVzOiBcImZhaWxlZFwiLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBcIndhbGxldFwiLFxuICAgICAgICB0cmFuc2FjdGlvbkRhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgQmlsbGluZyBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWAsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzV2FsbGV0UGF5bWVudChcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBzdWJzY3JpcHRpb25JZDogc3RyaW5nLFxuICAgIGFtb3VudDogbnVtYmVyLFxuICApOiBQcm9taXNlPEJpbGxpbmdUcmFuc2FjdGlvbj4ge1xuICAgIC8vIFNpbXVsYXRlIHdhbGxldCBkZWR1Y3Rpb25cbiAgICBjb25zb2xlLmxvZyhgRGVkdWN0aW5nICQke2Ftb3VudH0gZnJvbSB3YWxsZXQgZm9yIHVzZXIgJHt1c2VySWR9YClcblxuICAgIC8vIFVwZGF0ZSBtb2NrIHdhbGxldCBiYWxhbmNlXG4gICAgdGhpcy5tb2NrV2FsbGV0LmJhbGFuY2UgLT0gYW1vdW50XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGB0eG5fd2FsbGV0XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdXNlcklkLFxuICAgICAgc3Vic2NyaXB0aW9uSWQsXG4gICAgICBhbW91bnQsXG4gICAgICB3YWxsZXRBbW91bnQ6IGFtb3VudCxcbiAgICAgIHBheXBhbEFtb3VudDogMCxcbiAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICBwYXltZW50TWV0aG9kOiBcIndhbGxldFwiLFxuICAgICAgdHJhbnNhY3Rpb25EYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgZGVzY3JpcHRpb246IFwiU3Vic2NyaXB0aW9uIHBheW1lbnQgdmlhIHdhbGxldFwiLFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0h5YnJpZFBheW1lbnQoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgc3Vic2NyaXB0aW9uSWQ6IHN0cmluZyxcbiAgICB0b3RhbEFtb3VudDogbnVtYmVyLFxuICAgIHdhbGxldEFtb3VudDogbnVtYmVyLFxuICApOiBQcm9taXNlPEJpbGxpbmdUcmFuc2FjdGlvbj4ge1xuICAgIGNvbnN0IHBheXBhbEFtb3VudCA9IHRvdGFsQW1vdW50IC0gd2FsbGV0QW1vdW50XG5cbiAgICB0cnkge1xuICAgICAgLy8gU2ltdWxhdGUgUGF5UGFsIGNoYXJnZVxuICAgICAgY29uc3QgcGF5cGFsU3VjY2VzcyA9IE1hdGgucmFuZG9tKCkgPiAwLjEgLy8gOTAlIHN1Y2Nlc3MgcmF0ZVxuXG4gICAgICBpZiAocGF5cGFsU3VjY2Vzcykge1xuICAgICAgICBjb25zb2xlLmxvZyhgUGF5UGFsIGNoYXJnZSBzdWNjZXNzZnVsOiAkJHtwYXlwYWxBbW91bnR9YClcblxuICAgICAgICAvLyBVcGRhdGUgbW9jayB3YWxsZXQgYmFsYW5jZVxuICAgICAgICB0aGlzLm1vY2tXYWxsZXQuYmFsYW5jZSA9IDBcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBgdHhuX2h5YnJpZF8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgc3Vic2NyaXB0aW9uSWQsXG4gICAgICAgICAgYW1vdW50OiB0b3RhbEFtb3VudCxcbiAgICAgICAgICB3YWxsZXRBbW91bnQsXG4gICAgICAgICAgcGF5cGFsQW1vdW50LFxuICAgICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZDogXCJ3YWxsZXRfcGF5cGFsXCIsXG4gICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgU3Vic2NyaXB0aW9uIHBheW1lbnQ6ICQke3dhbGxldEFtb3VudC50b0ZpeGVkKDIpfSB3YWxsZXQgKyAkJHtwYXlwYWxBbW91bnQudG9GaXhlZCgyKX0gUGF5UGFsYCxcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGF5UGFsIHBheW1lbnQgZGVjbGluZWRcIilcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGB0eG5faHlicmlkX2ZhaWxlZF8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBzdWJzY3JpcHRpb25JZCxcbiAgICAgICAgYW1vdW50OiB0b3RhbEFtb3VudCxcbiAgICAgICAgd2FsbGV0QW1vdW50OiAwLFxuICAgICAgICBwYXlwYWxBbW91bnQ6IDAsXG4gICAgICAgIHN0YXR1czogXCJmYWlsZWRcIixcbiAgICAgICAgcGF5bWVudE1ldGhvZDogXCJ3YWxsZXRfcGF5cGFsXCIsXG4gICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IGBQYXltZW50IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NQYXlQYWxQYXltZW50KFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHN1YnNjcmlwdGlvbklkOiBzdHJpbmcsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICk6IFByb21pc2U8QmlsbGluZ1RyYW5zYWN0aW9uPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNpbXVsYXRlIFBheVBhbCBjaGFyZ2VcbiAgICAgIGNvbnN0IHBheXBhbFN1Y2Nlc3MgPSBNYXRoLnJhbmRvbSgpID4gMC4xIC8vIDkwJSBzdWNjZXNzIHJhdGVcblxuICAgICAgaWYgKHBheXBhbFN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFBheVBhbCBjaGFyZ2Ugc3VjY2Vzc2Z1bDogJCR7YW1vdW50fWApXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogYHR4bl9wYXlwYWxfJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIHN1YnNjcmlwdGlvbklkLFxuICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICB3YWxsZXRBbW91bnQ6IDAsXG4gICAgICAgICAgcGF5cGFsQW1vdW50OiBhbW91bnQsXG4gICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICBwYXltZW50TWV0aG9kOiBcInBheXBhbFwiLFxuICAgICAgICAgIHRyYW5zYWN0aW9uRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJTdWJzY3JpcHRpb24gcGF5bWVudCB2aWEgUGF5UGFsXCIsXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBheVBhbCBwYXltZW50IGRlY2xpbmVkXCIpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBgdHhuX3BheXBhbF9mYWlsZWRfJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgc3Vic2NyaXB0aW9uSWQsXG4gICAgICAgIGFtb3VudCxcbiAgICAgICAgd2FsbGV0QW1vdW50OiAwLFxuICAgICAgICBwYXlwYWxBbW91bnQ6IDAsXG4gICAgICAgIHN0YXR1czogXCJmYWlsZWRcIixcbiAgICAgICAgcGF5bWVudE1ldGhvZDogXCJwYXlwYWxcIixcbiAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogYFBheVBhbCBwYXltZW50IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEFjdGl2ZVN1YnNjcmlwdGlvbih1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8U3Vic2NyaXB0aW9uIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gZmV0Y2ggZnJvbSBBUEksIGJ1dCBmYWxsIGJhY2sgdG8gbW9jayBkYXRhXG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgc3Vic2NyaXB0aW9uIGZvciB1c2VyOiAke3VzZXJJZH1gKVxuICAgICAgcmV0dXJuIHRoaXMubW9ja1N1YnNjcmlwdGlvblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBzdWJzY3JpcHRpb24sIHVzaW5nIG1vY2sgZGF0YTpcIiwgZXJyb3IpXG4gICAgICByZXR1cm4gdGhpcy5tb2NrU3Vic2NyaXB0aW9uXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRVc2VyV2FsbGV0KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxXYWxsZXQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHRvIGZldGNoIGZyb20gQVBJLCBidXQgZmFsbCBiYWNrIHRvIG1vY2sgZGF0YVxuICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nIHdhbGxldCBmb3IgdXNlcjogJHt1c2VySWR9YClcbiAgICAgIHJldHVybiB0aGlzLm1vY2tXYWxsZXRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZXQgd2FsbGV0LCB1c2luZyBtb2NrIGRhdGE6XCIsIGVycm9yKVxuICAgICAgcmV0dXJuIHRoaXMubW9ja1dhbGxldFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2VuZFN1Y2Nlc3NOb3RpZmljYXRpb24odXNlcklkOiBzdHJpbmcsIHRyYW5zYWN0aW9uOiBCaWxsaW5nVHJhbnNhY3Rpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFNlbmRpbmcgc3VjY2VzcyBub3RpZmljYXRpb24gdG8gdXNlciAke3VzZXJJZH1gKVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9ub3RpZmljYXRpb25zL2JpbGxpbmctc3VjY2Vzc1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICB0cmFuc2FjdGlvbixcbiAgICAgICAgfSksXG4gICAgICB9KVxuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3VjY2VzcyBub3RpZmljYXRpb24gc2VudDpcIiwgcmVzdWx0LmN1c3RvbWVyTWVzc2FnZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCBzdWNjZXNzIG5vdGlmaWNhdGlvbjpcIiwgcmVzcG9uc2Uuc3RhdHVzVGV4dClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNlbmRpbmcgc3VjY2VzcyBub3RpZmljYXRpb246XCIsIGVycm9yKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIkJpbGxpbmdTZXJ2aWNlIiwicHJvY2Vzc01vbnRobHlCaWxsaW5nIiwidXNlcklkIiwiY29uc29sZSIsImxvZyIsInN1YnNjcmlwdGlvbiIsImdldEFjdGl2ZVN1YnNjcmlwdGlvbiIsIndhbGxldCIsImdldFVzZXJXYWxsZXQiLCJFcnJvciIsInN1YnNjcmlwdGlvbkFtb3VudCIsImFtb3VudCIsIndhbGxldEJhbGFuY2UiLCJiYWxhbmNlIiwidHJhbnNhY3Rpb24iLCJwcm9jZXNzV2FsbGV0UGF5bWVudCIsImlkIiwicHJvY2Vzc0h5YnJpZFBheW1lbnQiLCJwcm9jZXNzUGF5UGFsUGF5bWVudCIsInN0YXR1cyIsInNlbmRTdWNjZXNzTm90aWZpY2F0aW9uIiwiZXJyb3IiLCJEYXRlIiwibm93Iiwic3Vic2NyaXB0aW9uSWQiLCJ3YWxsZXRBbW91bnQiLCJwYXlwYWxBbW91bnQiLCJwYXltZW50TWV0aG9kIiwidHJhbnNhY3Rpb25EYXRlIiwiZGVzY3JpcHRpb24iLCJtZXNzYWdlIiwiU3RyaW5nIiwibW9ja1dhbGxldCIsInRvdGFsQW1vdW50IiwicGF5cGFsU3VjY2VzcyIsIk1hdGgiLCJyYW5kb20iLCJ0b0ZpeGVkIiwibW9ja1N1YnNjcmlwdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsInJlc3VsdCIsImpzb24iLCJjdXN0b21lck1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiY3VycmVuY3kiLCJ1cGRhdGVkQXQiLCJwbGFuSWQiLCJiaWxsaW5nQ3ljbGUiLCJuZXh0QmlsbGluZ0RhdGUiLCJwYXlwYWxTdWJzY3JpcHRpb25JZCIsImNyZWF0ZWRBdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/billing-service.ts\n");

/***/ }),

/***/ "(rsc)/./lib/cron-billing.ts":
/*!*****************************!*\
  !*** ./lib/cron-billing.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BillingCron: () => (/* binding */ BillingCron)\n/* harmony export */ });\n/* harmony import */ var _billing_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./billing-service */ \"(rsc)/./lib/billing-service.ts\");\n\nclass BillingCron {\n    constructor(){\n        this.billingService = new _billing_service__WEBPACK_IMPORTED_MODULE_0__.BillingService();\n    }\n    async processAllSubscriptions() {\n        try {\n            console.log(\"Starting monthly billing process...\");\n            // Use mock users for demo - in production this would come from database\n            const usersDue = [\n                \"user_123\",\n                \"user_456\",\n                \"user_789\"\n            ];\n            console.log(\"Users due for billing:\", usersDue);\n            const results = [];\n            for (const userId of usersDue){\n                try {\n                    console.log(`Processing billing for user: ${userId}`);\n                    const transaction = await this.billingService.processMonthlyBilling(userId);\n                    results.push({\n                        userId,\n                        status: \"success\",\n                        transaction\n                    });\n                    console.log(`Billing successful for user ${userId}`);\n                } catch (error) {\n                    console.error(`Billing failed for user ${userId}:`, error);\n                    results.push({\n                        userId,\n                        status: \"failed\",\n                        error: error instanceof Error ? error.message : String(error)\n                    });\n                }\n            }\n            console.log(\"Monthly billing process completed:\", results);\n            return results;\n        } catch (error) {\n            console.error(\"Billing cron job failed:\", error);\n            throw error;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY3Jvbi1iaWxsaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtEO0FBRTNDLE1BQU1DO0lBR1hDLGFBQWM7UUFDWixJQUFJLENBQUNDLGNBQWMsR0FBRyxJQUFJSCw0REFBY0E7SUFDMUM7SUFFQSxNQUFNSSwwQkFBMEI7UUFDOUIsSUFBSTtZQUNGQyxRQUFRQyxHQUFHLENBQUM7WUFFWix3RUFBd0U7WUFDeEUsTUFBTUMsV0FBVztnQkFBQztnQkFBWTtnQkFBWTthQUFXO1lBQ3JERixRQUFRQyxHQUFHLENBQUMsMEJBQTBCQztZQUV0QyxNQUFNQyxVQUFVLEVBQUU7WUFFbEIsS0FBSyxNQUFNQyxVQUFVRixTQUFVO2dCQUM3QixJQUFJO29CQUNGRixRQUFRQyxHQUFHLENBQUMsQ0FBQyw2QkFBNkIsRUFBRUcsUUFBUTtvQkFDcEQsTUFBTUMsY0FBYyxNQUFNLElBQUksQ0FBQ1AsY0FBYyxDQUFDUSxxQkFBcUIsQ0FBQ0Y7b0JBQ3BFRCxRQUFRSSxJQUFJLENBQUM7d0JBQUVIO3dCQUFRSSxRQUFRO3dCQUFXSDtvQkFBWTtvQkFFdERMLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDRCQUE0QixFQUFFRyxRQUFRO2dCQUNyRCxFQUFFLE9BQU9LLE9BQU87b0JBQ2RULFFBQVFTLEtBQUssQ0FBQyxDQUFDLHdCQUF3QixFQUFFTCxPQUFPLENBQUMsQ0FBQyxFQUFFSztvQkFDcEROLFFBQVFJLElBQUksQ0FBQzt3QkFBRUg7d0JBQVFJLFFBQVE7d0JBQVVDLE9BQU9BLGlCQUFpQkMsUUFBUUQsTUFBTUUsT0FBTyxHQUFHQyxPQUFPSDtvQkFBTztnQkFDekc7WUFDRjtZQUVBVCxRQUFRQyxHQUFHLENBQUMsc0NBQXNDRTtZQUNsRCxPQUFPQTtRQUNULEVBQUUsT0FBT00sT0FBTztZQUNkVCxRQUFRUyxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxNQUFNQTtRQUNSO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3NyYXZhbnBvbHUvUHJvamVjdHMvc3Vic2NyaXB0aW9uLWJpbGxpbmctbG9naWMvbGliL2Nyb24tYmlsbGluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCaWxsaW5nU2VydmljZSB9IGZyb20gXCIuL2JpbGxpbmctc2VydmljZVwiXG5cbmV4cG9ydCBjbGFzcyBCaWxsaW5nQ3JvbiB7XG4gIHByaXZhdGUgYmlsbGluZ1NlcnZpY2U6IEJpbGxpbmdTZXJ2aWNlXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iaWxsaW5nU2VydmljZSA9IG5ldyBCaWxsaW5nU2VydmljZSgpXG4gIH1cblxuICBhc3luYyBwcm9jZXNzQWxsU3Vic2NyaXB0aW9ucygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJTdGFydGluZyBtb250aGx5IGJpbGxpbmcgcHJvY2Vzcy4uLlwiKVxuXG4gICAgICAvLyBVc2UgbW9jayB1c2VycyBmb3IgZGVtbyAtIGluIHByb2R1Y3Rpb24gdGhpcyB3b3VsZCBjb21lIGZyb20gZGF0YWJhc2VcbiAgICAgIGNvbnN0IHVzZXJzRHVlID0gW1widXNlcl8xMjNcIiwgXCJ1c2VyXzQ1NlwiLCBcInVzZXJfNzg5XCJdXG4gICAgICBjb25zb2xlLmxvZyhcIlVzZXJzIGR1ZSBmb3IgYmlsbGluZzpcIiwgdXNlcnNEdWUpXG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXVxuXG4gICAgICBmb3IgKGNvbnN0IHVzZXJJZCBvZiB1c2Vyc0R1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIGJpbGxpbmcgZm9yIHVzZXI6ICR7dXNlcklkfWApXG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCB0aGlzLmJpbGxpbmdTZXJ2aWNlLnByb2Nlc3NNb250aGx5QmlsbGluZyh1c2VySWQpXG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHsgdXNlcklkLCBzdGF0dXM6IFwic3VjY2Vzc1wiLCB0cmFuc2FjdGlvbiB9KVxuXG4gICAgICAgICAgY29uc29sZS5sb2coYEJpbGxpbmcgc3VjY2Vzc2Z1bCBmb3IgdXNlciAke3VzZXJJZH1gKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEJpbGxpbmcgZmFpbGVkIGZvciB1c2VyICR7dXNlcklkfTpgLCBlcnJvcilcbiAgICAgICAgICByZXN1bHRzLnB1c2goeyB1c2VySWQsIHN0YXR1czogXCJmYWlsZWRcIiwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiTW9udGhseSBiaWxsaW5nIHByb2Nlc3MgY29tcGxldGVkOlwiLCByZXN1bHRzKVxuICAgICAgcmV0dXJuIHJlc3VsdHNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkJpbGxpbmcgY3JvbiBqb2IgZmFpbGVkOlwiLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiQmlsbGluZ1NlcnZpY2UiLCJCaWxsaW5nQ3JvbiIsImNvbnN0cnVjdG9yIiwiYmlsbGluZ1NlcnZpY2UiLCJwcm9jZXNzQWxsU3Vic2NyaXB0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJ1c2Vyc0R1ZSIsInJlc3VsdHMiLCJ1c2VySWQiLCJ0cmFuc2FjdGlvbiIsInByb2Nlc3NNb250aGx5QmlsbGluZyIsInB1c2giLCJzdGF0dXMiLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/cron-billing.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbilling%2Fprocess%2Froute&page=%2Fapi%2Fbilling%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbilling%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbilling%2Fprocess%2Froute&page=%2Fapi%2Fbilling%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbilling%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_sravanpolu_Projects_subscription_billing_logic_app_api_billing_process_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/billing/process/route.ts */ \"(rsc)/./app/api/billing/process/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/billing/process/route\",\n        pathname: \"/api/billing/process\",\n        filename: \"route\",\n        bundlePath: \"app/api/billing/process/route\"\n    },\n    resolvedPagePath: \"/Users/sravanpolu/Projects/subscription-billing-logic/app/api/billing/process/route.ts\",\n    nextConfigOutput,\n    userland: _Users_sravanpolu_Projects_subscription_billing_logic_app_api_billing_process_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZiaWxsaW5nJTJGcHJvY2VzcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYmlsbGluZyUyRnByb2Nlc3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZiaWxsaW5nJTJGcHJvY2VzcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNyYXZhbnBvbHUlMkZQcm9qZWN0cyUyRnN1YnNjcmlwdGlvbi1iaWxsaW5nLWxvZ2ljJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnNyYXZhbnBvbHUlMkZQcm9qZWN0cyUyRnN1YnNjcmlwdGlvbi1iaWxsaW5nLWxvZ2ljJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNzQztBQUNuSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3NyYXZhbnBvbHUvUHJvamVjdHMvc3Vic2NyaXB0aW9uLWJpbGxpbmctbG9naWMvYXBwL2FwaS9iaWxsaW5nL3Byb2Nlc3Mvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2JpbGxpbmcvcHJvY2Vzcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2JpbGxpbmcvcHJvY2Vzc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYmlsbGluZy9wcm9jZXNzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3NyYXZhbnBvbHUvUHJvamVjdHMvc3Vic2NyaXB0aW9uLWJpbGxpbmctbG9naWMvYXBwL2FwaS9iaWxsaW5nL3Byb2Nlc3Mvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbilling%2Fprocess%2Froute&page=%2Fapi%2Fbilling%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbilling%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbilling%2Fprocess%2Froute&page=%2Fapi%2Fbilling%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbilling%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsravanpolu%2FProjects%2Fsubscription-billing-logic&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();